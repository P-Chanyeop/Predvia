<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="1920" d:DesignHeight="930"
             x:Class="Gumaedaehang.SourcingPage">
    
    <UserControl.Styles>
        <!-- 라이트 모드 스타일 (기본) -->
        <Style Selector="UserControl">
            <Setter Property="Background" Value="White"/>
        </Style>
        
        <!-- 다크 모드 스타일 -->
        <Style Selector="UserControl.dark-theme">
            <Setter Property="Background" Value="#1E1E1E"/>
        </Style>
        
        <!-- TextBox 기본 스타일 (라이트모드) -->
        <Style Selector="UserControl TextBox">
            <Setter Property="Background" Value="#FFDAC4"/>
            <Setter Property="Foreground" Value="#000000"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
        </Style>
        
        <!-- TextBox 다크모드 스타일 (더 높은 우선순위) -->
        <Style Selector="UserControl.dark-theme TextBox">
            <Setter Property="Background" Value="#4A4A4A"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#666666"/>
        </Style>
        
        <!-- 키워드 태그 비활성 상태 텍스트 스타일 (더 강력하게) -->
        <Style Selector="TextBlock.keyword-inactive">
            <Setter Property="Foreground" Value="#666666"/>
        </Style>
        
        <Style Selector="UserControl.dark-theme TextBlock.keyword-inactive">
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>
        
        <!-- 키워드 태그 비활성 상태 배경 스타일 -->
        <Style Selector="Border.keyword-inactive">
            <Setter Property="Background" Value="#D0D0D0"/>
        </Style>
        
        <Style Selector="UserControl.dark-theme Border.keyword-inactive">
            <Setter Property="Background" Value="#555555"/>
        </Style>
        
        <!-- 모든 TextBlock에 대한 다크모드 스타일 (강제 적용) -->
        <Style Selector="UserControl.dark-theme TextBlock">
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>
        
        <!-- 카테고리 텍스트 다크모드 스타일 -->
        <Style Selector="UserControl.dark-theme TextBlock.category-text">
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>
        
        <!-- 상품명 텍스트 다크모드 스타일 -->
        <Style Selector="UserControl.dark-theme TextBlock.product-name">
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>
        
        <!-- 원상품명 텍스트 다크모드 스타일 -->
        <Style Selector="UserControl.dark-theme TextBlock.original-name">
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>
        
        <!-- 키워드 텍스트 다크모드 스타일 -->
        <Style Selector="UserControl.dark-theme TextBlock.keyword-text">
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>
        
        <!-- 커스텀 스크롤바 스타일 -->
        <Style Selector="ScrollBar">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>
        
        <Style Selector="ScrollBar:vertical">
            <Setter Property="Width" Value="12"/>
        </Style>
        
        <Style Selector="ScrollBar /template/ Thumb">
            <Setter Property="Background" Value="#F5945C"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="MinHeight" Value="30"/>
            <Setter Property="Opacity" Value="1"/>
            <Setter Property="Margin" Value="1"/>
        </Style>
        
        <Style Selector="ScrollBar /template/ Thumb:pointerover">
            <Setter Property="Background" Value="#F5945C"/>
            <Setter Property="Opacity" Value="1"/>
        </Style>
        
        <Style Selector="ScrollBar /template/ Thumb:pressed">
            <Setter Property="Background" Value="#F5945C"/>
            <Setter Property="Opacity" Value="1"/>
        </Style>
        
        <Style Selector="ScrollBar /template/ Button">
            <Setter Property="IsVisible" Value="False"/>
        </Style>
        
        <Style Selector="ScrollBar /template/ RepeatButton">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>
    </UserControl.Styles>
    
    <Grid>
        <!-- 데이터가 없을 때 보여줄 화면 -->
        <Grid x:Name="NoDataView" IsVisible="True">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <StackPanel Spacing="60" 
                            VerticalAlignment="Top" 
                            HorizontalAlignment="Center"
                            MaxWidth="1200"
                            Width="1200"
                            Margin="30,40,30,40">
                
                <!-- 필터 섹션 -->
                <StackPanel Spacing="25">
                    <TextBlock Text="필터" 
                               FontSize="28" 
                               FontWeight="Bold" 
                               
                               HorizontalAlignment="Left"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- 가격 입력 영역 -->
                        <StackPanel Grid.Column="0" 
                                    Orientation="Horizontal" 
                                    Spacing="20" 
                                    VerticalAlignment="Center">
                            <TextBox Width="280" Height="55" Text="1,000"
                                     BorderThickness="0" CornerRadius="8"
                                     VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                                     FontSize="18" FontWeight="Medium"/>
                            <TextBlock Text="원 ~" VerticalAlignment="Center" FontSize="20" FontWeight="Medium"
                                       />
                            <TextBox Width="280" Height="55" Text="100,000"
                                     BorderThickness="0" CornerRadius="8"
                                     VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
                                     FontSize="18" FontWeight="Medium"/>
                            <TextBlock Text="원" VerticalAlignment="Center" FontSize="20" FontWeight="Medium"
                                       />
                        </StackPanel>
                        
                        <Button Grid.Column="1" Content="설정" Background="#F47B20" Foreground="White" 
                                Padding="40,15" CornerRadius="8" FontSize="18" FontWeight="Medium"
                                BorderThickness="0" Height="55"/>
                    </Grid>
                </StackPanel>
                
                <!-- 수동으로 소싱하기 섹션 -->
                <StackPanel Spacing="25">
                    <TextBlock Text="수동으로 소싱하기" FontSize="28" FontWeight="Bold" 
                                HorizontalAlignment="Left"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBox Grid.Column="0" Height="55" x:Name="ManualSourcingTextBox"
                                 BorderThickness="0" CornerRadius="8"
                                 VerticalContentAlignment="Center" FontSize="18" Padding="20,0" Margin="0,0,20,0"/>
                        
                        <Button Grid.Column="1" Content="페어링" Background="#F47B20" Foreground="White" 
                                Padding="40,15" CornerRadius="8" FontSize="18" FontWeight="Medium"
                                BorderThickness="0" Height="55" x:Name="ManualSourcingButton" Click="ManualSourcingButton_Click"/>
                    </Grid>
                    
                    <TextBlock Text="추가하기 +" FontSize="18" Foreground="#F47B20" 
                               HorizontalAlignment="Center" Cursor="Hand" FontWeight="Medium"
                               x:Name="AddMoreLink"/>
                </StackPanel>
                
                <!-- 소싱재료 자동찾기 섹션 -->
                <StackPanel Spacing="25">
                    <TextBlock Text="소싱재료 자동찾기" FontSize="28" FontWeight="Bold" 
                                HorizontalAlignment="Left"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBox Grid.Column="0" Height="55" x:Name="SourcingMaterialTextBox"
                                 BorderThickness="0" CornerRadius="8"
                                 VerticalContentAlignment="Center" FontSize="18" Padding="20,0" Margin="0,0,20,0"/>
                        
                        <Button Grid.Column="1" Content="페어링" Background="#F47B20" Foreground="White" 
                                Padding="40,15" CornerRadius="8" FontSize="18" FontWeight="Medium"
                                BorderThickness="0" Height="55" x:Name="AutoSourcingButton" Click="AutoSourcingButton_Click"/>
                    </Grid>
                </StackPanel>
                
                <!-- 메인상품 자동찾기 섹션 -->
                <StackPanel Spacing="25">
                    <TextBlock Text="메인상품 자동찾기" FontSize="28" FontWeight="Bold" 
                                HorizontalAlignment="Left"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBox Grid.Column="0" Height="55" x:Name="MainProductTextBox"
                                 BorderThickness="0" CornerRadius="8"
                                 VerticalContentAlignment="Center" FontSize="18" Padding="20,0" Margin="0,0,20,0"/>
                        
                        <Button Grid.Column="1" Content="페어링" Background="#F47B20" Foreground="White" 
                                Padding="40,15" CornerRadius="8" FontSize="18" FontWeight="Medium"
                                BorderThickness="0" Height="55" x:Name="MainProductButton" Click="MainProductButton_Click"/>
                    </Grid>
                </StackPanel>
                
                <!-- 엑셀로 추출하기 섹션 -->
                <StackPanel Spacing="25">
                    <TextBlock Text="엑셀로 추출하기" FontSize="28" FontWeight="Bold" 
                                HorizontalAlignment="Left"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="15" VerticalAlignment="Center">
                            <Image Source="avares://Gumaedaehang/images/excel_logo.png" 
                                   Width="50" Height="50" Stretch="Uniform"/>
                            <TextBlock Text="데이터를 엑셀 파일로 내보내기" FontSize="20" FontWeight="Medium"
                                        VerticalAlignment="Center"/>
                        </StackPanel>
                        
                        <Button Grid.Column="1" Content="추출" Background="#F47B20" Foreground="White" 
                                Padding="40,15" CornerRadius="8" FontSize="18" FontWeight="Medium"
                                BorderThickness="0" Height="55"/>
                    </Grid>
                </StackPanel>
                
                <!-- 테스트 버튼 -->
                <Button Content="데이터 있는 화면 보기 (테스트)" 
                        Background="#F47B20" Foreground="White" Padding="30,15" CornerRadius="8"
                        FontSize="16" FontWeight="Medium" HorizontalAlignment="Center"
                        Margin="0,30,0,0" x:Name="TestDataButton"/>
                
                </StackPanel>
            </ScrollViewer>
        </Grid>
        
        <!-- 데이터가 있을 때 보여줄 화면 -->
        <Grid x:Name="DataAvailableView" IsVisible="False">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <StackPanel Spacing="20" Margin="30,20,30,30">
                    
                    <!-- 전체선택 및 삭제 영역 -->
                    <StackPanel Orientation="Horizontal" Spacing="15" VerticalAlignment="Center">
                        <CheckBox x:Name="SelectAllCheckBox" Content="전체선택" FontSize="14" 
                                  />
                        <TextBlock Text="삭제" FontSize="14" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <!-- 실제 상품 데이터가 여기에 동적으로 추가됩니다 -->
                    <StackPanel x:Name="RealDataContainer" Spacing="20">
                        <!-- 실제 데이터 컨테이너 - C# 코드에서 동적으로 상품 카드들이 추가됩니다 -->
                    </StackPanel>
                    
                    
                    <!-- 테스트 버튼 -->
                    <Button Content="데이터 없는 화면 보기 (테스트)" Background="#F47B20" Foreground="White" 
                            Padding="30,15" CornerRadius="8" FontSize="16" FontWeight="Medium"
                            HorizontalAlignment="Center" Margin="0,30,0,0" x:Name="TestDataButton2"/>
                    
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</UserControl>
